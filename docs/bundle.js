// Repository: https://github.com/natureofcode/svg-to-phaser-path
(()=>{var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty;var __markAsModule=target=>__defProp(target,"__esModule",{value:!0});var __commonJS=(cb,mod)=>function(){return mod||(0,cb[Object.keys(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var __reExport=(target,module,desc)=>{if(module&&typeof module=="object"||typeof module=="function")for(let key of __getOwnPropNames(module))!__hasOwnProp.call(target,key)&&key!=="default"&&__defProp(target,key,{get:()=>module[key],enumerable:!(desc=__getOwnPropDesc(module,key))||desc.enumerable});return target},__toModule=module=>__reExport(__markAsModule(__defProp(module!=null?__create(__getProtoOf(module)):{},"default",module&&module.__esModule&&"default"in module?{get:()=>module.default,enumerable:!0}:{value:module,enumerable:!0})),module);var require_lodash=__commonJS({"node_modules/.pnpm/lodash.debounce@4.0.8/node_modules/lodash.debounce/index.js"(exports,module){var FUNC_ERROR_TEXT="Expected a function",NAN=0/0,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce2(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxing="maxWait"in options,maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args),result}function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result2=wait-timeSinceLastCall;return maxing?nativeMin(result2,maxWait-timeSinceLastInvoke):result2}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===void 0||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function cancel(){timerId!==void 0&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0}function flush(){return timerId===void 0?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(timerId===void 0)return leadingEdge(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return timerId===void 0&&(timerId=setTimeout(timerExpired,wait)),result}return debounced.cancel=cancel,debounced.flush=flush,debounced}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toNumber(value){if(typeof value=="number")return value;if(isSymbol(value))return NAN;if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string")return value===0?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}module.exports=debounce2}});var require_parser=__commonJS({"../node_modules/.pnpm/svg-path-parser@1.1.0/node_modules/svg-path-parser/parser.js"(exports,module){"use strict";function peg$subclass(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor}function peg$SyntaxError(message,expected,found,location){this.message=message,this.expected=expected,this.found=found,this.location=location,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,peg$SyntaxError)}peg$subclass(peg$SyntaxError,Error);peg$SyntaxError.buildMessage=function(expected,found){var DESCRIBE_EXPECTATION_FNS={literal:function(expectation){return'"'+literalEscape(expectation.text)+'"'},class:function(expectation){var escapedParts="",i;for(i=0;i<expectation.parts.length;i++)escapedParts+=expectation.parts[i]instanceof Array?classEscape(expectation.parts[i][0])+"-"+classEscape(expectation.parts[i][1]):classEscape(expectation.parts[i]);return"["+(expectation.inverted?"^":"")+escapedParts+"]"},any:function(expectation){return"any character"},end:function(expectation){return"end of input"},other:function(expectation){return expectation.description}};function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}function literalEscape(s){return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ch){return"\\x0"+hex(ch)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ch){return"\\x"+hex(ch)})}function classEscape(s){return s.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(ch){return"\\x0"+hex(ch)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ch){return"\\x"+hex(ch)})}function describeExpectation(expectation){return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation)}function describeExpected(expected2){var descriptions=new Array(expected2.length),i,j;for(i=0;i<expected2.length;i++)descriptions[i]=describeExpectation(expected2[i]);if(descriptions.sort(),descriptions.length>0){for(i=1,j=1;i<descriptions.length;i++)descriptions[i-1]!==descriptions[i]&&(descriptions[j]=descriptions[i],j++);descriptions.length=j}switch(descriptions.length){case 1:return descriptions[0];case 2:return descriptions[0]+" or "+descriptions[1];default:return descriptions.slice(0,-1).join(", ")+", or "+descriptions[descriptions.length-1]}}function describeFound(found2){return found2?'"'+literalEscape(found2)+'"':"end of input"}return"Expected "+describeExpected(expected)+" but "+describeFound(found)+" found."};function peg$parse(input,options){options=options!==void 0?options:{};var peg$FAILED={},peg$startRuleFunctions={svg_path:peg$parsesvg_path},peg$startRuleFunction=peg$parsesvg_path,peg$c0=function(data){if(!data)return[];for(var cmds2=[],i=0;i<data.length;i++)cmds2=cmds2.concat.apply(cmds2,data[i]);var first=cmds2[0];return first&&first.code=="m"&&(delete first.relative,first.code="M"),cmds2},peg$c1=function(first,more){return merge(first,more)},peg$c2=/^[Mm]/,peg$c3=peg$classExpectation(["M","m"],!1,!1),peg$c4=function(c,first,more){var move=commands(c,[first]);return more&&(move=move.concat(commands(c=="M"?"L":"l",more[1]))),move},peg$c5=/^[Zz]/,peg$c6=peg$classExpectation(["Z","z"],!1,!1),peg$c7=function(){return commands("Z")},peg$c8=/^[Ll]/,peg$c9=peg$classExpectation(["L","l"],!1,!1),peg$c10=function(c,args){return commands(c,args)},peg$c11=/^[Hh]/,peg$c12=peg$classExpectation(["H","h"],!1,!1),peg$c13=function(c,args){return commands(c,args.map(function(x){return{x}}))},peg$c14=/^[Vv]/,peg$c15=peg$classExpectation(["V","v"],!1,!1),peg$c16=function(c,args){return commands(c,args.map(function(y){return{y}}))},peg$c17=/^[Cc]/,peg$c18=peg$classExpectation(["C","c"],!1,!1),peg$c19=function(a,b,c){return{x1:a.x,y1:a.y,x2:b.x,y2:b.y,x:c.x,y:c.y}},peg$c20=/^[Ss]/,peg$c21=peg$classExpectation(["S","s"],!1,!1),peg$c22=function(b,c){return{x2:b.x,y2:b.y,x:c.x,y:c.y}},peg$c23=/^[Qq]/,peg$c24=peg$classExpectation(["Q","q"],!1,!1),peg$c25=function(a,b){return{x1:a.x,y1:a.y,x:b.x,y:b.y}},peg$c26=/^[Tt]/,peg$c27=peg$classExpectation(["T","t"],!1,!1),peg$c28=/^[Aa]/,peg$c29=peg$classExpectation(["A","a"],!1,!1),peg$c30=function(rx,ry,xrot,large,sweep,xy){return{rx,ry,xAxisRotation:xrot,largeArc:large,sweep,x:xy.x,y:xy.y}},peg$c31=function(x,y){return{x,y}},peg$c32=function(n){return n*1},peg$c33=function(parts){return parts.join("")*1},peg$c34=/^[01]/,peg$c35=peg$classExpectation(["0","1"],!1,!1),peg$c36=function(bit){return bit=="1"},peg$c37=function(){return""},peg$c38=",",peg$c39=peg$literalExpectation(",",!1),peg$c40=function(parts){return parts.join("")},peg$c41=".",peg$c42=peg$literalExpectation(".",!1),peg$c43=/^[eE]/,peg$c44=peg$classExpectation(["e","E"],!1,!1),peg$c45=/^[+\-]/,peg$c46=peg$classExpectation(["+","-"],!1,!1),peg$c47=/^[0-9]/,peg$c48=peg$classExpectation([["0","9"]],!1,!1),peg$c49=function(digits){return digits.join("")},peg$c50=/^[ \t\n\r]/,peg$c51=peg$classExpectation([" ","	",`
`,"\r"],!1,!1),peg$currPos=0,peg$savedPos=0,peg$posDetailsCache=[{line:1,column:1}],peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0,peg$result;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions))throw new Error(`Can't start parsing from rule "`+options.startRule+'".');peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}function text(){return input.substring(peg$savedPos,peg$currPos)}function location(){return peg$computeLocation(peg$savedPos,peg$currPos)}function expected(description,location2){throw location2=location2!==void 0?location2:peg$computeLocation(peg$savedPos,peg$currPos),peg$buildStructuredError([peg$otherExpectation(description)],input.substring(peg$savedPos,peg$currPos),location2)}function error(message,location2){throw location2=location2!==void 0?location2:peg$computeLocation(peg$savedPos,peg$currPos),peg$buildSimpleError(message,location2)}function peg$literalExpectation(text2,ignoreCase){return{type:"literal",text:text2,ignoreCase}}function peg$classExpectation(parts,inverted,ignoreCase){return{type:"class",parts,inverted,ignoreCase}}function peg$anyExpectation(){return{type:"any"}}function peg$endExpectation(){return{type:"end"}}function peg$otherExpectation(description){return{type:"other",description}}function peg$computePosDetails(pos){var details=peg$posDetailsCache[pos],p;if(details)return details;for(p=pos-1;!peg$posDetailsCache[p];)p--;for(details=peg$posDetailsCache[p],details={line:details.line,column:details.column};p<pos;)input.charCodeAt(p)===10?(details.line++,details.column=1):details.column++,p++;return peg$posDetailsCache[pos]=details,details}function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos),endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}}}function peg$fail(expected2){peg$currPos<peg$maxFailPos||(peg$currPos>peg$maxFailPos&&(peg$maxFailPos=peg$currPos,peg$maxFailExpected=[]),peg$maxFailExpected.push(expected2))}function peg$buildSimpleError(message,location2){return new peg$SyntaxError(message,null,null,location2)}function peg$buildStructuredError(expected2,found,location2){return new peg$SyntaxError(peg$SyntaxError.buildMessage(expected2,found),expected2,found,location2)}function peg$parsesvg_path(){var s0,s1,s2,s3,s4;for(s0=peg$currPos,s1=[],s2=peg$parsewsp();s2!==peg$FAILED;)s1.push(s2),s2=peg$parsewsp();if(s1!==peg$FAILED)if(s2=peg$parsemoveTo_drawTo_commandGroups(),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED){for(s3=[],s4=peg$parsewsp();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsewsp();s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c0(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsemoveTo_drawTo_commandGroups(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,s1=peg$parsemoveTo_drawTo_commandGroup(),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=[],s5=peg$parsewsp();s5!==peg$FAILED;)s4.push(s5),s5=peg$parsewsp();for(s4!==peg$FAILED?(s5=peg$parsemoveTo_drawTo_commandGroup(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;){for(s2.push(s3),s3=peg$currPos,s4=[],s5=peg$parsewsp();s5!==peg$FAILED;)s4.push(s5),s5=peg$parsewsp();s4!==peg$FAILED?(s5=peg$parsemoveTo_drawTo_commandGroup(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED)}s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c1(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsemoveTo_drawTo_commandGroup(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,s1=peg$parsemoveto(),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=[],s5=peg$parsewsp();s5!==peg$FAILED;)s4.push(s5),s5=peg$parsewsp();for(s4!==peg$FAILED?(s5=peg$parsedrawto_command(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;){for(s2.push(s3),s3=peg$currPos,s4=[],s5=peg$parsewsp();s5!==peg$FAILED;)s4.push(s5),s5=peg$parsewsp();s4!==peg$FAILED?(s5=peg$parsedrawto_command(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED)}s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c1(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsedrawto_command(){var s0;return s0=peg$parseclosepath(),s0===peg$FAILED&&(s0=peg$parselineto(),s0===peg$FAILED&&(s0=peg$parsehorizontal_lineto(),s0===peg$FAILED&&(s0=peg$parsevertical_lineto(),s0===peg$FAILED&&(s0=peg$parsecurveto(),s0===peg$FAILED&&(s0=peg$parsesmooth_curveto(),s0===peg$FAILED&&(s0=peg$parsequadratic_bezier_curveto(),s0===peg$FAILED&&(s0=peg$parsesmooth_quadratic_bezier_curveto(),s0===peg$FAILED&&(s0=peg$parseelliptical_arc())))))))),s0}function peg$parsemoveto(){var s0,s1,s2,s3,s4,s5,s6;if(s0=peg$currPos,peg$c2.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c3)),s1!==peg$FAILED){for(s2=[],s3=peg$parsewsp();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsewsp();s2!==peg$FAILED?(s3=peg$parsecoordinate_pair(),s3!==peg$FAILED?(s4=peg$currPos,s5=peg$parsecomma_wsp(),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED?(s6=peg$parselineto_argument_sequence(),s6!==peg$FAILED?(s5=[s5,s6],s4=s5):(peg$currPos=s4,s4=peg$FAILED)):(peg$currPos=s4,s4=peg$FAILED),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(peg$savedPos=s0,s1=peg$c4(s1,s3,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseclosepath(){var s0,s1;return s0=peg$currPos,peg$c5.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c6)),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c7()),s0=s1,s0}function peg$parselineto(){var s0,s1,s2,s3;if(s0=peg$currPos,peg$c8.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c9)),s1!==peg$FAILED){for(s2=[],s3=peg$parsewsp();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsewsp();s2!==peg$FAILED?(s3=peg$parselineto_argument_sequence(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c10(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parselineto_argument_sequence(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,s1=peg$parsecoordinate_pair(),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsecoordinate_pair(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsecoordinate_pair(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c1(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsehorizontal_lineto(){var s0,s1,s2,s3;if(s0=peg$currPos,peg$c11.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c12)),s1!==peg$FAILED){for(s2=[],s3=peg$parsewsp();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsewsp();s2!==peg$FAILED?(s3=peg$parsecoordinate_sequence(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c13(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecoordinate_sequence(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,s1=peg$parsenumber(),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsenumber(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsenumber(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c1(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsevertical_lineto(){var s0,s1,s2,s3;if(s0=peg$currPos,peg$c14.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c15)),s1!==peg$FAILED){for(s2=[],s3=peg$parsewsp();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsewsp();s2!==peg$FAILED?(s3=peg$parsecoordinate_sequence(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c16(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecurveto(){var s0,s1,s2,s3;if(s0=peg$currPos,peg$c17.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c18)),s1!==peg$FAILED){for(s2=[],s3=peg$parsewsp();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsewsp();s2!==peg$FAILED?(s3=peg$parsecurveto_argument_sequence(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c10(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecurveto_argument_sequence(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,s1=peg$parsecurveto_argument(),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsecurveto_argument(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsecurveto_argument(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c1(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsecurveto_argument(){var s0,s1,s2,s3,s4,s5;return s0=peg$currPos,s1=peg$parsecoordinate_pair(),s1!==peg$FAILED?(s2=peg$parsecomma_wsp(),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?(s3=peg$parsecoordinate_pair(),s3!==peg$FAILED?(s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsecoordinate_pair(),s5!==peg$FAILED?(peg$savedPos=s0,s1=peg$c19(s1,s3,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsesmooth_curveto(){var s0,s1,s2,s3;if(s0=peg$currPos,peg$c20.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c21)),s1!==peg$FAILED){for(s2=[],s3=peg$parsewsp();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsewsp();s2!==peg$FAILED?(s3=peg$parsesmooth_curveto_argument_sequence(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c10(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsesmooth_curveto_argument_sequence(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,s1=peg$parsesmooth_curveto_argument(),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsesmooth_curveto_argument(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsesmooth_curveto_argument(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c1(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsesmooth_curveto_argument(){var s0,s1,s2,s3;return s0=peg$currPos,s1=peg$parsecoordinate_pair(),s1!==peg$FAILED?(s2=peg$parsecomma_wsp(),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?(s3=peg$parsecoordinate_pair(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c22(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsequadratic_bezier_curveto(){var s0,s1,s2,s3;if(s0=peg$currPos,peg$c23.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c24)),s1!==peg$FAILED){for(s2=[],s3=peg$parsewsp();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsewsp();s2!==peg$FAILED?(s3=peg$parsequadratic_bezier_curveto_argument_sequence(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c10(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsequadratic_bezier_curveto_argument_sequence(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,s1=peg$parsequadratic_bezier_curveto_argument(),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsequadratic_bezier_curveto_argument(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsequadratic_bezier_curveto_argument(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c1(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsequadratic_bezier_curveto_argument(){var s0,s1,s2,s3;return s0=peg$currPos,s1=peg$parsecoordinate_pair(),s1!==peg$FAILED?(s2=peg$parsecomma_wsp(),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?(s3=peg$parsecoordinate_pair(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c25(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsesmooth_quadratic_bezier_curveto(){var s0,s1,s2,s3;if(s0=peg$currPos,peg$c26.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c27)),s1!==peg$FAILED){for(s2=[],s3=peg$parsewsp();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsewsp();s2!==peg$FAILED?(s3=peg$parsesmooth_quadratic_bezier_curveto_argument_sequence(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c10(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsesmooth_quadratic_bezier_curveto_argument_sequence(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,s1=peg$parsecoordinate_pair(),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsecoordinate_pair(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsecoordinate_pair(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c1(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseelliptical_arc(){var s0,s1,s2,s3;if(s0=peg$currPos,peg$c28.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c29)),s1!==peg$FAILED){for(s2=[],s3=peg$parsewsp();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsewsp();s2!==peg$FAILED?(s3=peg$parseelliptical_arc_argument_sequence(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c10(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseelliptical_arc_argument_sequence(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,s1=peg$parseelliptical_arc_argument(),s1!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parseelliptical_arc_argument(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parseelliptical_arc_argument(),s5!==peg$FAILED?(s4=[s4,s5],s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c1(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseelliptical_arc_argument(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11;return s0=peg$currPos,s1=peg$parsenonnegative_number(),s1!==peg$FAILED?(s2=peg$parsecomma_wsp(),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?(s3=peg$parsenonnegative_number(),s3!==peg$FAILED?(s4=peg$parsecomma_wsp(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsenumber(),s5!==peg$FAILED?(s6=peg$parsecomma_wsp(),s6!==peg$FAILED?(s7=peg$parseflag(),s7!==peg$FAILED?(s8=peg$parsecomma_wsp(),s8===peg$FAILED&&(s8=null),s8!==peg$FAILED?(s9=peg$parseflag(),s9!==peg$FAILED?(s10=peg$parsecomma_wsp(),s10===peg$FAILED&&(s10=null),s10!==peg$FAILED?(s11=peg$parsecoordinate_pair(),s11!==peg$FAILED?(peg$savedPos=s0,s1=peg$c30(s1,s3,s5,s7,s9,s11),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsecoordinate_pair(){var s0,s1,s2,s3;return s0=peg$currPos,s1=peg$parsenumber(),s1!==peg$FAILED?(s2=peg$parsecomma_wsp(),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?(s3=peg$parsenumber(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c31(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parsenonnegative_number(){var s0,s1;return s0=peg$currPos,s1=peg$parsefloating_point_constant(),s1===peg$FAILED&&(s1=peg$parsedigit_sequence()),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c32(s1)),s0=s1,s0}function peg$parsenumber(){var s0,s1,s2,s3;return s0=peg$currPos,s1=peg$currPos,s2=peg$parsesign(),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?(s3=peg$parsefloating_point_constant(),s3!==peg$FAILED?(s2=[s2,s3],s1=s2):(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=peg$currPos,s2=peg$parsesign(),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?(s3=peg$parsedigit_sequence(),s3!==peg$FAILED?(s2=[s2,s3],s1=s2):(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c33(s1)),s0=s1,s0}function peg$parseflag(){var s0,s1;return s0=peg$currPos,peg$c34.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c35)),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c36(s1)),s0=s1,s0}function peg$parsecomma_wsp(){var s0,s1,s2,s3,s4;if(s0=peg$currPos,s1=[],s2=peg$parsewsp(),s2!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$parsewsp();else s1=peg$FAILED;if(s1!==peg$FAILED)if(s2=peg$parsecomma(),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED){for(s3=[],s4=peg$parsewsp();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsewsp();s3!==peg$FAILED?(s1=[s1,s2,s3],s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED){if(s0=peg$currPos,s1=peg$currPos,s2=peg$parsecomma(),s2!==peg$FAILED){for(s3=[],s4=peg$parsewsp();s4!==peg$FAILED;)s3.push(s4),s4=peg$parsewsp();s3!==peg$FAILED?(s2=[s2,s3],s1=s2):(peg$currPos=s1,s1=peg$FAILED)}else peg$currPos=s1,s1=peg$FAILED;s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c37()),s0=s1}return s0}function peg$parsecomma(){var s0;return input.charCodeAt(peg$currPos)===44?(s0=peg$c38,peg$currPos++):(s0=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c39)),s0}function peg$parsefloating_point_constant(){var s0,s1,s2,s3;return s0=peg$currPos,s1=peg$currPos,s2=peg$parsefractional_constant(),s2!==peg$FAILED?(s3=peg$parseexponent(),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?(s2=[s2,s3],s1=s2):(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=peg$currPos,s2=peg$parsedigit_sequence(),s2!==peg$FAILED?(s3=peg$parseexponent(),s3!==peg$FAILED?(s2=[s2,s3],s1=s2):(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c40(s1)),s0=s1,s0}function peg$parsefractional_constant(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,s2=peg$parsedigit_sequence(),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?(input.charCodeAt(peg$currPos)===46?(s3=peg$c41,peg$currPos++):(s3=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c42)),s3!==peg$FAILED?(s4=peg$parsedigit_sequence(),s4!==peg$FAILED?(s2=[s2,s3,s4],s1=s2):(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1===peg$FAILED&&(s1=peg$currPos,s2=peg$parsedigit_sequence(),s2!==peg$FAILED?(input.charCodeAt(peg$currPos)===46?(s3=peg$c41,peg$currPos++):(s3=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c42)),s3!==peg$FAILED?(s2=[s2,s3],s1=s2):(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c40(s1)),s0=s1,s0}function peg$parseexponent(){var s0,s1,s2,s3,s4;return s0=peg$currPos,s1=peg$currPos,peg$c43.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c44)),s2!==peg$FAILED?(s3=peg$parsesign(),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?(s4=peg$parsedigit_sequence(),s4!==peg$FAILED?(s2=[s2,s3,s4],s1=s2):(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED)):(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c40(s1)),s0=s1,s0}function peg$parsesign(){var s0;return peg$c45.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c46)),s0}function peg$parsedigit_sequence(){var s0,s1,s2;if(s0=peg$currPos,s1=[],peg$c47.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c48)),s2!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),peg$c47.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c48));else s1=peg$FAILED;return s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c49(s1)),s0=s1,s0}function peg$parsewsp(){var s0,s1;return s0=peg$currPos,peg$c50.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,peg$silentFails===0&&peg$fail(peg$c51)),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c37()),s0=s1,s0}function merge(first,more){if(!more)return[first];for(var a=[first],i=0,l=more.length;i<l;i++)a[i+1]=more[i][1];return a}var cmds={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var code in cmds)cmds[code.toUpperCase()]=cmds[code];function commands(code2,args){args||(args=[{}]);for(var i=args.length;i--;){var cmd={code:code2,command:cmds[code2]};code2==code2.toLowerCase()&&(cmd.relative=!0);for(var k in args[i])cmd[k]=args[i][k];args[i]=cmd}return args}if(peg$result=peg$startRuleFunction(),peg$result!==peg$FAILED&&peg$currPos===input.length)return peg$result;throw peg$result!==peg$FAILED&&peg$currPos<input.length&&peg$fail(peg$endExpectation()),peg$buildStructuredError(peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos))}module.exports={SyntaxError:peg$SyntaxError,parse:peg$parse}}});var require_svg_path_parser=__commonJS({"../node_modules/.pnpm/svg-path-parser@1.1.0/node_modules/svg-path-parser/index.js"(exports,module){var parserFunction=require_parser().parse;parserFunction.parseSVG=parserFunction;parserFunction.makeAbsolute=makeSVGPathCommandsAbsolute;module.exports=parserFunction;function makeSVGPathCommandsAbsolute(commands){var subpathStart,prevCmd={x:0,y:0},attr={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return commands.forEach(function(cmd){cmd.command==="moveto"&&(subpathStart=cmd),cmd.x0=prevCmd.x,cmd.y0=prevCmd.y;for(var a in attr)a in cmd&&(cmd[a]+=cmd.relative?cmd[attr[a]]:0);"x"in cmd||(cmd.x=prevCmd.x),"y"in cmd||(cmd.y=prevCmd.y),cmd.relative=!1,cmd.code=cmd.code.toUpperCase(),cmd.command=="closepath"&&(cmd.x=subpathStart.x,cmd.y=subpathStart.y),prevCmd=cmd}),commands}}});var phaser_default=Phaser;var import_lodash=__toModule(require_lodash());var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!(i&&_arr.length===i));_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),TAU=Math.PI*2,mapToEllipse=function(_ref,rx,ry,cosphi,sinphi,centerx,centery){var x=_ref.x,y=_ref.y;x*=rx,y*=ry;var xp=cosphi*x-sinphi*y,yp=sinphi*x+cosphi*y;return{x:xp+centerx,y:yp+centery}},approxUnitArc=function(ang1,ang2){var a=ang2===1.5707963267948966?.551915024494:ang2===-1.5707963267948966?-.551915024494:4/3*Math.tan(ang2/4),x1=Math.cos(ang1),y1=Math.sin(ang1),x2=Math.cos(ang1+ang2),y2=Math.sin(ang1+ang2);return[{x:x1-y1*a,y:y1+x1*a},{x:x2+y2*a,y:y2-x2*a},{x:x2,y:y2}]},vectorAngle=function(ux,uy,vx,vy){var sign=ux*vy-uy*vx<0?-1:1,dot=ux*vx+uy*vy;return dot>1&&(dot=1),dot<-1&&(dot=-1),sign*Math.acos(dot)},getArcCenter=function(px,py,cx,cy,rx,ry,largeArcFlag,sweepFlag,sinphi,cosphi,pxp,pyp){var rxsq=Math.pow(rx,2),rysq=Math.pow(ry,2),pxpsq=Math.pow(pxp,2),pypsq=Math.pow(pyp,2),radicant=rxsq*rysq-rxsq*pypsq-rysq*pxpsq;radicant<0&&(radicant=0),radicant/=rxsq*pypsq+rysq*pxpsq,radicant=Math.sqrt(radicant)*(largeArcFlag===sweepFlag?-1:1);var centerxp=radicant*rx/ry*pyp,centeryp=radicant*-ry/rx*pxp,centerx=cosphi*centerxp-sinphi*centeryp+(px+cx)/2,centery=sinphi*centerxp+cosphi*centeryp+(py+cy)/2,vx1=(pxp-centerxp)/rx,vy1=(pyp-centeryp)/ry,vx2=(-pxp-centerxp)/rx,vy2=(-pyp-centeryp)/ry,ang1=vectorAngle(1,0,vx1,vy1),ang2=vectorAngle(vx1,vy1,vx2,vy2);return sweepFlag===0&&ang2>0&&(ang2-=TAU),sweepFlag===1&&ang2<0&&(ang2+=TAU),[centerx,centery,ang1,ang2]},arcToBezier=function(_ref2){var px=_ref2.px,py=_ref2.py,cx=_ref2.cx,cy=_ref2.cy,rx=_ref2.rx,ry=_ref2.ry,_ref2$xAxisRotation=_ref2.xAxisRotation,xAxisRotation=_ref2$xAxisRotation===void 0?0:_ref2$xAxisRotation,_ref2$largeArcFlag=_ref2.largeArcFlag,largeArcFlag=_ref2$largeArcFlag===void 0?0:_ref2$largeArcFlag,_ref2$sweepFlag=_ref2.sweepFlag,sweepFlag=_ref2$sweepFlag===void 0?0:_ref2$sweepFlag,curves=[];if(rx===0||ry===0)return[];var sinphi=Math.sin(xAxisRotation*TAU/360),cosphi=Math.cos(xAxisRotation*TAU/360),pxp=cosphi*(px-cx)/2+sinphi*(py-cy)/2,pyp=-sinphi*(px-cx)/2+cosphi*(py-cy)/2;if(pxp===0&&pyp===0)return[];rx=Math.abs(rx),ry=Math.abs(ry);var lambda=Math.pow(pxp,2)/Math.pow(rx,2)+Math.pow(pyp,2)/Math.pow(ry,2);lambda>1&&(rx*=Math.sqrt(lambda),ry*=Math.sqrt(lambda));var _getArcCenter=getArcCenter(px,py,cx,cy,rx,ry,largeArcFlag,sweepFlag,sinphi,cosphi,pxp,pyp),_getArcCenter2=_slicedToArray(_getArcCenter,4),centerx=_getArcCenter2[0],centery=_getArcCenter2[1],ang1=_getArcCenter2[2],ang2=_getArcCenter2[3],ratio=Math.abs(ang2)/(TAU/4);Math.abs(1-ratio)<1e-7&&(ratio=1);var segments=Math.max(Math.ceil(ratio),1);ang2/=segments;for(var i=0;i<segments;i++)curves.push(approxUnitArc(ang1,ang2)),ang1+=ang2;return curves.map(function(curve){var _mapToEllipse=mapToEllipse(curve[0],rx,ry,cosphi,sinphi,centerx,centery),x1=_mapToEllipse.x,y1=_mapToEllipse.y,_mapToEllipse2=mapToEllipse(curve[1],rx,ry,cosphi,sinphi,centerx,centery),x2=_mapToEllipse2.x,y2=_mapToEllipse2.y,_mapToEllipse3=mapToEllipse(curve[2],rx,ry,cosphi,sinphi,centerx,centery),x=_mapToEllipse3.x,y=_mapToEllipse3.y;return{x1,y1,x2,y2,x,y}})},modules_default=arcToBezier;var import_svg_path_parser=__toModule(require_svg_path_parser()),TWO_THIRDS=2/3;function svgToPhaserPath(d,quadraticToCubic=!1){let path=new phaser_default.Curves.Path,parsed=(0,import_svg_path_parser.makeAbsolute)((0,import_svg_path_parser.parseSVG)(d)),firstMoveTo=parsed[0];if(!firstMoveTo)return path.toJSON();path.startPoint.setFromObject(firstMoveTo);let computedQuadraticPrevX1,computedQuadraticPrevY1,prev=firstMoveTo;for(let i=1;i<parsed.length;i++){let cmd=parsed[i],{code}=cmd,prevCode=prev.code;switch(code){case"M":{let{x,y}=cmd;path.moveTo(x,y)}break;case"Z":{let{x,y}=cmd;path.lineTo(x,y)}break;case"L":case"H":case"V":{let{x,y}=cmd;path.lineTo(x,y)}break;case"C":{let{x1,y1,x2,y2,x,y}=cmd;path.cubicBezierTo(x,y,x1,y1,x2,y2)}break;case"S":{let{x0,y0,x2,y2,x,y}=cmd,x1=x0,y1=y0;(prevCode==="C"||prevCode==="S")&&(x1=x0+(x0-prev.x2),y1=y0+(y0-prev.y2)),path.cubicBezierTo(x,y,x1,y1,x2,y2)}break;case"Q":{let{x0,y0,x1,y1,x,y}=cmd;if(computedQuadraticPrevX1=x1,computedQuadraticPrevY1=y1,quadraticToCubic){let cubicX1=x0+(x1-x0)*TWO_THIRDS,cubicY1=y0+(y1-y0)*TWO_THIRDS,cubicX2=x+(x1-x)*TWO_THIRDS,cubicY2=y+(y1-y)*TWO_THIRDS;path.cubicBezierTo(x,y,cubicX1,cubicY1,cubicX2,cubicY2)}else path.quadraticBezierTo(x,y,x1,y1)}break;case"T":{let{x0,y0,x,y}=cmd,x1=x0,y1=y0;if((prevCode==="Q"||prevCode==="T")&&(x1=x0+(x0-computedQuadraticPrevX1),y1=y0+(y0-computedQuadraticPrevY1)),computedQuadraticPrevX1=x1,computedQuadraticPrevY1=y1,quadraticToCubic){let cubicX1=x0+(x1-x0)*TWO_THIRDS,cubicY1=y0+(y1-y0)*TWO_THIRDS,cubicX2=x+(x1-x)*TWO_THIRDS,cubicY2=y+(y1-y)*TWO_THIRDS;path.cubicBezierTo(x,y,cubicX1,cubicY1,cubicX2,cubicY2)}else path.quadraticBezierTo(x,y,x1,y1)}break;case"A":{let{x0,y0,rx,ry,xAxisRotation,x,y}=cmd,largeArcFlag=cmd.largeArc?1:0,sweepFlag=cmd.sweep?1:0;if(x0===x&&y0===y)break;if(rx===0||ry===0){path.lineTo(x,y);break}let curves=modules_default({px:x0,py:y0,cx:x,cy:y,rx,ry,xAxisRotation,largeArcFlag,sweepFlag}),ending=curves[curves.length-1];ending.x=x,ending.y=y;for(let cubic of curves)path.cubicBezierTo(cubic.x,cubic.y,cubic.x1,cubic.y1,cubic.x2,cubic.y2)}break}prev=cmd}let result=path.toJSON();return result.curves.forEach(curve=>{curve.type==="QuadraticBezier"&&(curve.type="QuadraticBezierCurve")}),result}var svg_to_phaser_path_default=svgToPhaserPath;var FRAME_THICKNESS=10,defaultD=`M0,0 l 50,-25
a25,25 -30 0,1 50,-25 l 50,-25
a25,50 -30 0,1 50,-25 l 50,-25
a25,75 -30 0,1 50,-25 l 50,-25
a25,100 -30 0,1 50,-25 l 50,-25`,el={parent:document.getElementById("preview"),inputSVG:document.getElementById("inputSVG"),outputJSON:document.getElementById("outputJSON"),toCubicSwitch:document.getElementById("toCubicSwitch")};el.inputSVG.placeholder=defaultD;var PreviewScene=class extends phaser_default.Scene{init(){this.graphics=this.add.graphics({lineStyle:{width:3,color:16773120}});let inputHandler=(0,import_lodash.default)(this.onInput.bind(this),50,{leading:!0});el.inputSVG.oninput=inputHandler,el.toCubicSwitch.onchange=inputHandler,this.scale.on("resize",this.preview.bind(this)),this.onInput()}onInput(){let inputStr=el.inputSVG.value.trim(),outputStr;try{let jsonPath=svg_to_phaser_path_default(inputStr!==""?inputStr:defaultD,el.toCubicSwitch.checked);outputStr=JSON.stringify(jsonPath),this.path=new phaser_default.Curves.Path(jsonPath)}catch(error){outputStr=error.toString(),this.path=null}el.outputJSON.value=outputStr,this.preview()}preview(){let{graphics,path}=this;if(graphics.clear(),!path)return;let bounds=path.getBounds(),w1=this.renderer.width,h1=this.renderer.height,w2=bounds.width+FRAME_THICKNESS*2,h2=bounds.height+FRAME_THICKNESS*2,fatness1=w1/h1,scale=w2/h2>=fatness1?w1/w2:h1/h2,w3=w2*scale,h3=h2*scale,x3=w1/2-w3/2,y3=h1/2-h3/2;graphics.translateCanvas(-bounds.x+FRAME_THICKNESS,-bounds.y+FRAME_THICKNESS),graphics.setScale(scale),graphics.setPosition(x3,y3),path.draw(graphics)}},game=new phaser_default.Game({title:"SVG to Phaser Path Preview",scale:{mode:phaser_default.Scale.ScaleModes.FIT,parent:el.parent,width:"100%",height:"100%"},audio:{noAudio:!0},input:!1,powerPreference:"low-power",scene:[PreviewScene]});game.canvas.classList.add("rounded-lg");})();
